<!DOCTYPE HTML>
<html>

  <head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="../semantic/dist/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="otter_custom.css">

  </head>

  <body>

    <div id="elm"></div>

    <script src="../semantic/dist/jquery_3.3.1.min.js"></script>
    <script src="../semantic/dist/semantic.min.js"></script>
    <script src="../src/otter.js"></script>
    <script src="../src/otter_custom.js"></script>

    <script>
      var defaultWindow = nw.Window.get();
      defaultWindow.maximize();
    </script>

    <script>
      var gulp = require('gulp');
      const {execSync} = require('child_process');

      gulp.task('recompile', function () {
        try {
          execSync('elm make src\\otter.elm --output=src\\otter.js');
          if (location) location.reload();
        }
        catch (err) {
          console.clear();
          console.log(err);
          this.emit('end');
        }
      });

      gulp.task('refresh', function () {
        if (location) location.reload();
      });

      gulp.watch(['**/*.elm'], gulp.task('recompile'));
      gulp.watch(['**/*.css'], gulp.task('refresh'));
      gulp.watch(['**/*.js'], gulp.task('refresh'));
    </script>

  </body>

</html>
